# do not edit this file, it will be overwritten on update

# CPU hotadd request
SUBSYSTEM!="cpu", GOTO="cpu_online_end"
ACTION!="add", GOTO="cpu_online_end"
CONST{arch}=="ppc64*", GOTO="cpu_online_end"
CONST{arch}=="s390*", ATTR{configure}=="0", GOTO="cpu_online_end"

TEST=="online", ATTR{online}=="0", ATTR{online}="1"

LABEL="cpu_online_end"

# Memory hotadd request
SUBSYSTEM!="memory", GOTO="memory_hotplug_end"
ACTION!="add", GOTO="memory_hotplug_end"
CONST{arch}=="s390*", GOTO="memory_hotplug_end"
CONST{arch}=="ppc64*", GOTO="memory_hotplug_end"

ENV{.state}="online"
CONST{virt}=="none", ENV{.state}="online_movable"
ATTR{state}=="offline", ATTR{state}="$env{.state}"

LABEL="memory_hotplug_end"
